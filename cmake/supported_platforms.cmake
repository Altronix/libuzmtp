FILE(GLOB PLATFORM_HEADERS "${CMAKE_SOURCE_DIR}/include/uzmtp_platform_*.h")
foreach(HEADER ${PLATFORM_HEADERS})
	MESSAGE(STATUS "Found platform header: ${HEADER}")
	STRING(REGEX MATCH "uzmtp_platform_[a-z]+" RES ${HEADER})
	STRING(REGEX REPLACE "uzmtp_platform_" "" RES ${RES})
	STRING(TOUPPER ${RES} RES)
	LIST(APPEND SUPPORTED_PLATFORMS ${RES})
endforeach()
LIST(SORT SUPPORTED_PLATFORMS ORDER DESCENDING)
MESSAGE(STATUS "Supported platforms  : ${SUPPORTED_PLATFORMS}")
